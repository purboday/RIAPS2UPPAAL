process query_port(chan &msg_type, intq &port_name) {

state
    waiting;
init
    waiting;
trans
    waiting -> waiting { guard identity == port_name.id; sync msg_type?; assign push(port_name); };
}